---
title: '环境搭建'
---

系统插件是使用React Native开发的，所以需要搭建的开发环境其实就是React Native的开发环境。详细环境搭建可以参考RN官网的环境搭建，这里简单描述下基本的环境搭建。

## 安装依赖

必须安装的依赖有：Node、JDK和Android Studio。以下安装依赖都是以Windows为例

### Node，JDK

建议直接使用搜索引擎下载Node和JDK（Java Development Kit），JDK（Java Development Kit）可以使用Oracle JDK或者OpenJDK。

注意：Node的版本应大于18，强烈建议始终选择Node当前的LTS（长期维护）版本，一般是偶数版本，不要选择偏实验性质的奇数版本。

注意：RN需要JDK 21以上的版本，可以在命令行输入javac -version来查看当前的JDK版本，如果版本不符合要求，需要安装更高级的版本。

注意：中国用户需要使用 npm config set registry [https://registry.npmmirror.com](https://registry.npmmirror.com) 命令配置淘宝镜像，否则可能无法使用npm。

### Yarn

Yarn是Facebook提供的替代npm的工具，可以加速node模板的下载，在命令行输入以下命令：

```bash wrap
npm install -g yarn
```

安装完yarn之后就可以用yarn代替npm了，例如用yarn代替npm install命令，用yarn add 某第三方库名代替npm install 某第三方库名。

### Android Studio开发环境

如果你之前没有接触过 Android 的开发环境，那么请做好心理准备，这一过程相当繁琐。请万分仔细地阅读下面的说明，严格对照文档进行配置操作。

#### 安装Android Studio

首先下载和安装Android Studio，Android Studio版本需要Android Studio Narwhal | 2025.1.2以上的版本，太老版本会无法开发插件。

在Android Studio安装向导中，确保选中以下所有项目旁边的复选框：

- Android SDK
- Android SDK Platform
- Android Virtual Device

然后点击“Next”来安装选中的组件。

#### 安装Android SDK

Android Studio 默认会安装最新版本的 Android SDK。目前编译 React Native 应用需要的是Android 14 (UpsideDownCake)版本的 SDK（注意 SDK 版本不等于终端系统版本，RN 目前支持 android 6 以上设备）。你可以在 Android Studio 的 SDK Manager 中选择安装各版本的 SDK。

你可以在 Android Studio 的欢迎界面中找到 SDK Manager。点击"Configure"，然后就能看到"SDK Manager"。

![image](/images/devguide/devguide-5.png)

注：SDK Manager 还可以在 Android Studio 的"Preferences"菜单中找到。具体路径是Appearance & Behavior → System Settings → Android SDK。

在 SDK Manager 中选择"SDK Platforms"选项卡，然后在右下角勾选"Show Package Details"。展开Android 15 (UpsideDownCake)选项，确保勾选了下面这些组件（如果你看不到这个界面，则需要使用稳定的代理软件）：

- Android SDK Platform 35
- Intel x86 Atom_64 System Image（官方模拟器镜像文件，使用非官方模拟器不需要安装此组件）

然后点击"SDK Tools"选项卡，同样勾中右下角的"Show Package Details"。展开"Android SDK Build-Tools"选项，确保选中了 React Native 所必须的35.0.0版本。你可以同时安装多个其他版本。

#### 配置ANDROID_HOME环境变量

React Native 需要通过环境变量来了解你的 Android SDK 装在什么路径，从而正常进行编译。

打开控制面板 -> 系统和安全 -> 系统 -> 高级系统设置 -> 高级 -> 环境变量 -> 新建，创建一个名为ANDROID_HOME的环境变量（系统或用户变量均可），指向你的 Android SDK 所在的目录（具体的路径可能和下图不一致，请自行确认）：

![image](/images/devguide/devguide-6.png)

SDK 默认是安装在下面的目录：

```text
C:\Users\你的用户名\AppData\Local\Android\Sdk
```

你可以在 Android Studio 的"Preferences"菜单中查看 SDK 的真实路径，具体是Appearance & Behavior → System Settings → Android SDK。

你需要关闭现有的命令符提示窗口然后重新打开，这样新的环境变量才能生效。

#### 把工具目录添加到环境变量

打开控制面板 -> 系统和安全 -> 系统 -> 高级系统设置 -> 高级 -> 环境变量，选中Path变量，然后点击编辑。点击新建然后把以下工具目录路径添加进去：platform-tools

```text
%ANDROID_HOME%\platform-tools
```
